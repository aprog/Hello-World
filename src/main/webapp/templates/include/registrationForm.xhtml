<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">

    <h:panelGroup id="RegistrationPanel" styleClass="centr_div">
        <rich:panel header="#{i18n['registration.form.header']}" style="width: 600px" rendered="#{not user.isProcessed and not user.isLoggedIn}">
            <h:form id="RegistrationForm">
                <h:panelGroup style="text-align: left">
                    <rich:messages style="color:red; line-height: 200%;" id="errorMessages" layout="list" ajaxRendered="true" />
                </h:panelGroup>
                <h:outputText value="#{i18n['registration.form.login']}" />
                <br />
                <h:inputText value="#{user.name}" id="login" tabindex="0" required="true">
                    <rich:validator />
                </h:inputText>
                <br />
                <h:outputText value="#{i18n['registration.form.password']}" />
                <br />
                <h:inputSecret value="#{user.password}" id="password" required="true">
                    <rich:validator />
                </h:inputSecret>
                <br />
                <h:outputText value="#{i18n['registration.form.email']}" />
                <br />
                <h:inputText value="#{user.email}" id="email">
                    <rich:validator />
                </h:inputText>
                <br />
                <a4j:commandButton id="submitButton" type="submit" value="#{i18n['registration.form.button.register']}"
                    onclick="this.disabled=true" oncomplete="document.getElementById('RegistrationForm:submitButton').disabled=false"
                    action="#{user.addUser}"
                    render="RegistrationPanel, RegistrationGreetingPanel" />
            </h:form>
        </rich:panel>
    </h:panelGroup>
    <script type="text/javascript">
        document.getElementById("RegistrationForm:login").focus();
    </script>
</ui:composition>