<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<rich:toolbar height="20">
        <rich:toolbarGroup>
            <h:outputLink value="${facesContext.externalContext.requestContextPath}">
                <h:outputText value="#{i18n['header.mainpage']}" />
            </h:outputLink>
        </rich:toolbarGroup>
		<rich:toolbarGroup rendered="#{user.isLoggedIn}">
            <h:outputLink value="${facesContext.externalContext.requestContextPath}/pm/incoming/all">
                <h:outputFormat value="#{i18n['header.messages.incoming']}">
                    <f:param value="#{message.newMessageCount}" />
                </h:outputFormat>
            </h:outputLink>
            <h:outputLink value="${facesContext.externalContext.requestContextPath}/pm/sent/all">
                <h:outputText value="#{i18n['header.messages.outgoing']}" />
            </h:outputLink>
		</rich:toolbarGroup>

        <rich:toolbarGroup location="right">
            <h:outputLink value="${facesContext.externalContext.requestContextPath}/feedback">
                <h:outputText value="#{i18n['header.feedback']}" />
            </h:outputLink>
        </rich:toolbarGroup>

		<rich:toolbarGroup location="right" rendered="#{not user.isLoggedIn}">
			<h:outputLink value="${facesContext.externalContext.requestContextPath}/auth">
				<h:outputText value="#{i18n['header.login']}" />
			</h:outputLink>
			<h:outputLink value="${facesContext.externalContext.requestContextPath}/register">
                <h:outputText value="#{i18n['header.register']}" />
			</h:outputLink>
		</rich:toolbarGroup>

		<rich:toolbarGroup location="right" rendered="#{user.isLoggedIn}">
            <h:form>
                <h:commandLink value="#{i18n['header.exit']}" action="#{user.logoutUser}" />
            </h:form>
		</rich:toolbarGroup>
	</rich:toolbar>
</ui:composition>