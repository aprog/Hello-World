<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">

<div>
    <rich:dataTable id="IncomingMessageTable" styleClass="pmtable" value="#{message.incomingMessages}" var="pm" rendered="#{user.isLoggedIn}">
        <f:facet name="header">
            <rich:columnGroup>
                <h:column>
                    <h:outputText value="#{i18n['personalmessages.incoming.subject']}" />
                </h:column>
                <h:column>
                    <h:outputText value="#{i18n['personalmessages.incoming.from']}" />
                </h:column>
                <h:column>
                    <h:outputText value="#{i18n['personalmessages.incoming.date']}" />
                </h:column>
            </rich:columnGroup>
        </f:facet>

        <h:column>
            <h:outputLink value="#{pm.url}">
                <h:outputText style="font-weight: bold" value="#{pm.message.personalMessage.subject}" rendered="#{not pm.message.isRead}"/>
                <h:outputText value="#{pm.message.personalMessage.subject}" rendered="#{pm.message.isRead}"/>
            </h:outputLink>
        </h:column>
        <h:column>
            <h:outputText value="#{pm.message.personalMessage.user.name}" />
        </h:column>
        <h:column>
            <h:outputText value="#{pm.message.personalMessage.creationTime}">
                <f:convertDateTime type="both" dateStyle="full" />
            </h:outputText>
        </h:column>
    </rich:dataTable>
</div>

</ui:composition>