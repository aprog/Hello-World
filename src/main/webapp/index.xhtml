<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/templates/main.xhtml">
    <ui:define name="title">Main page</ui:define>

	<ui:define name="content">
	   <ui:include src="/templates/include/requester.xhtml">
	       <ui:param name="requestPhrase" value="#{luceneRecord.requestPhrase}" />
	   </ui:include>
        <ui:repeat var="record" value="#{luceneRecord.allRecords}">
            <ui:include src="/templates/include/record.xhtml">
                <ui:param name="url" value="#{record.url}" />
                <ui:param name="id" value="#{record.id}" />
                <ui:param name="title" value="#{record.title}" />
                <ui:param name="imgPath" value="#{record.imgPath}" />
                <ui:param name="content" value="#{record.content}" />
                <ui:param name="contextPath" value="${facesContext.externalContext.requestContextPath}" />
            </ui:include>
        </ui:repeat>
	</ui:define>
	<ui:define name="pager">
        <h:panelGroup rendered="#{luceneRecord.recordsCount > 0}">
            <ui:include src="/templates/include/pager.xhtml">
                <ui:param name="pager" value="#{luceneRecord.pager}" />
            </ui:include>
        </h:panelGroup>
	</ui:define>
	<ui:define name="footer">
	    Footer info
	</ui:define>
</ui:composition>
</html>